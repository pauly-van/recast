import exampleVideoData from '../data/exampleVideoData.js';
import searchYouTube from '../lib/searchYouTube.js';
import VideoList from './VideoList.js';
import VideoPlayer from './VideoPlayer.js';
import YOUTUBE_API_KEY from '../config/youtube.js';
import Search from './Search.js';

class App extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      currentVideo: {
        kind: '',
        etag: '',
        id: {
          kind: '',
          videoId: ''
        },
        snippet: {
          publishedAt: '',
          channelId: '',
          title: '',
          description: '',
          thumbnails: {
            default: {
              url: '',
              width: 320,
              height: 180
            },
            medium: {
              url: '',
              width: 320,
              height: 180
            },
            high: {
              url: '',
              width: 480,
              height: 360
            }
          },
          channelTitle: '',
          liveBroadcastContent: ''
        }
      },
      videoList: []
    };
  }

  componentDidMount() {

    var cb = function (videoArray) {
      this.setState({
        currentVideo: videoArray[0],
        videoList: videoArray
      });
    };
    searchYouTube({ query: 'cats', max: 5, key: YOUTUBE_API_KEY }, cb.bind(this));
  }

  setCurrentVideo(event) {
    // console.log(event.target.id);
    // console.log(this);
    for (let i = 0; i < this.state.videoList.length; i++) {
      if (this.state.videoList[i].id.videoId === event.target.id) {
        var indexOfClick = i;
        break;
      }
    }
    this.setState({
      currentVideo: this.state.videoList[indexOfClick]
    });
  }

  searchNewVideo(value) {
    console.log('In App: ', value);
    var cb = function (videoArray) {
      this.setState({
        currentVideo: videoArray[0],
        videoList: videoArray
      });
    };
    searchYouTube({ query: value, max: 5, key: YOUTUBE_API_KEY }, cb.bind(this));
  }

  render() {
    return React.createElement(
      'div',
      null,
      React.createElement(
        'nav',
        { className: 'navbar' },
        React.createElement(
          'div',
          { className: 'col-md-6 offset-md-3' },
          React.createElement(Search, { state: this.state, searchNewVideo: this.searchNewVideo.bind(this) })
        )
      ),
      React.createElement(
        'div',
        { className: 'row' },
        React.createElement(
          'div',
          { id: 'vidplayer', className: 'col-md-7' },
          React.createElement(VideoPlayer, { state: this.state, video: this.state.currentVideo })
        ),
        React.createElement(
          'div',
          { className: 'col-md-5' },
          React.createElement(VideoList, { state: this.state, videos: this.state.videoList, setCurrentVideo: this.setCurrentVideo.bind(this) })
        )
      )
    );
  }
}

// In the ES6 spec, files are "modules" and do not share a top-level scope
// `var` declarations will only exist globally where explicitly defined
export default App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiZXhhbXBsZVZpZGVvRGF0YSIsInNlYXJjaFlvdVR1YmUiLCJWaWRlb0xpc3QiLCJWaWRlb1BsYXllciIsIllPVVRVQkVfQVBJX0tFWSIsIlNlYXJjaCIsIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiY3VycmVudFZpZGVvIiwia2luZCIsImV0YWciLCJpZCIsInZpZGVvSWQiLCJzbmlwcGV0IiwicHVibGlzaGVkQXQiLCJjaGFubmVsSWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGh1bWJuYWlscyIsImRlZmF1bHQiLCJ1cmwiLCJ3aWR0aCIsImhlaWdodCIsIm1lZGl1bSIsImhpZ2giLCJjaGFubmVsVGl0bGUiLCJsaXZlQnJvYWRjYXN0Q29udGVudCIsInZpZGVvTGlzdCIsImNvbXBvbmVudERpZE1vdW50IiwiY2IiLCJ2aWRlb0FycmF5Iiwic2V0U3RhdGUiLCJxdWVyeSIsIm1heCIsImtleSIsImJpbmQiLCJzZXRDdXJyZW50VmlkZW8iLCJldmVudCIsImkiLCJsZW5ndGgiLCJ0YXJnZXQiLCJpbmRleE9mQ2xpY2siLCJzZWFyY2hOZXdWaWRlbyIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsInJlbmRlciJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsZ0JBQVAsTUFBNkIsNkJBQTdCO0FBQ0EsT0FBT0MsYUFBUCxNQUEwQix5QkFBMUI7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLGdCQUF0QjtBQUNBLE9BQU9DLFdBQVAsTUFBd0Isa0JBQXhCO0FBQ0EsT0FBT0MsZUFBUCxNQUE0QixzQkFBNUI7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLGFBQW5COztBQUVBLE1BQU1DLEdBQU4sU0FBa0JDLE1BQU1DLFNBQXhCLENBQWtDO0FBQ2hDQyxjQUFZQyxLQUFaLEVBQW1CO0FBQ2pCLFVBQU1BLEtBQU47O0FBRUEsU0FBS0MsS0FB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QUFELElBQVcsT0FBTyxLQUFLRCxLQUF2QixFQUE4QixRQUFRLEtBQUtBLEtBQUwsQ0FBV29CLFNBQWpELEVBQTRELGlCQUFpQixLQUFLUyxlQUFMLENBQXFCRCxJQUFyQixDQUEwQixJQUExQixDQUE3RTtBQUZGO0FBTEY7QUFORixLQURGO0FBbUJEO0FBcEcrQjs7QUF1R2xDO0FBQ0E7QUFDQSxlQUFlakMsR0FBZiIsImZpbGUiOiJBcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhhbXBsZVZpZGVvRGF0YSBmcm9tICcuLi9kYXRhL2V4YW1wbGVWaWRlb0RhdGEuanMnO1xuaW1wb3J0IHNlYXJjaFlvdVR1YmUgZnJvbSAnLi4vbGliL3NlYXJjaFlvdVR1YmUuanMnO1xuaW1wb3J0IFZpZGVvTGlzdCBmcm9tICcuL1ZpZGVvTGlzdC5qcyc7XG5pbXBvcnQgVmlkZW9QbGF5ZXIgZnJvbSAnLi9WaWRlb1BsYXllci5qcyc7XG5pbXBvcnQgWU9VVFVCRV9BUElfS0VZIGZyb20gJy4uL2NvbmZpZy95b3V0dWJlLmpzJztcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi9TZWFyY2guanMnO1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50VmlkZW86IHtcbiAgICAgICAga2luZDogJycsXG4gICAgICAgIGV0YWc6ICcnLFxuICAgICAgICBpZDoge1xuICAgICAgICAgIGtpbmQ6ICcnLFxuICAgICAgICAgIHZpZGVvSWQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHNuaXBwZXQ6IHtcbiAgICAgICAgICBwdWJsaXNoZWRBdDogJycsXG4gICAgICAgICAgY2hhbm5lbElkOiAnJyxcbiAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgIHRodW1ibmFpbHM6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgICAgICAgd2lkdGg6IDMyMCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxODBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZWRpdW06IHtcbiAgICAgICAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgICAgICAgd2lkdGg6IDMyMCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxODBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWdoOiB7XG4gICAgICAgICAgICAgIHVybDogJycsXG4gICAgICAgICAgICAgIHdpZHRoOiA0ODAsXG4gICAgICAgICAgICAgIGhlaWdodDogMzYwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGFubmVsVGl0bGU6ICcnLFxuICAgICAgICAgIGxpdmVCcm9hZGNhc3RDb250ZW50OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdmlkZW9MaXN0OiBbXSxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG5cbiAgICB2YXIgY2IgPSBmdW5jdGlvbih2aWRlb0FycmF5KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudFZpZGVvOiB2aWRlb0FycmF5WzBdLFxuICAgICAgICB2aWRlb0xpc3Q6IHZpZGVvQXJyYXlcbiAgICAgIH0pO1xuXG4gICAgfVxuICAgIHNlYXJjaFlvdVR1YmUoe3F1ZXJ5OiAnY2F0cycsIG1heDogNSwga2V5OiBZT1VUVUJFX0FQSV9LRVl9LCBjYi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHNldEN1cnJlbnRWaWRlbyhldmVudCkge1xuICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5pZCk7XG4gICAgLy8gY29uc29sZS5sb2codGhpcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLnZpZGVvTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUudmlkZW9MaXN0W2ldLmlkLnZpZGVvSWQgPT09IGV2ZW50LnRhcmdldC5pZCkge1xuICAgICAgICB2YXIgaW5kZXhPZkNsaWNrID0gaTtcbiAgICAgICAgYnJlYWs7IFxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRWaWRlbzogdGhpcy5zdGF0ZS52aWRlb0xpc3RbaW5kZXhPZkNsaWNrXVxuICAgIH0pO1xuICB9XG5cbiAgc2VhcmNoTmV3VmlkZW8odmFsdWUpIHtcbiAgICBjb25zb2xlLmxvZygnSW4gQXBwOiAnLCB2YWx1ZSk7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24odmlkZW9BcnJheSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRWaWRlbzogdmlkZW9BcnJheVswXSxcbiAgICAgICAgdmlkZW9MaXN0OiB2aWRlb0FycmF5XG4gICAgICB9KTtcblxuICAgIH1cbiAgICBzZWFyY2hZb3VUdWJlKHtxdWVyeTogdmFsdWUsIG1heDogNSwga2V5OiBZT1VUVUJFX0FQSV9LRVl9LCBjYi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJuYXZiYXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IG9mZnNldC1tZC0zXCI+XG4gICAgICAgICAgICA8U2VhcmNoIHN0YXRlPXt0aGlzLnN0YXRlfSBzZWFyY2hOZXdWaWRlbz17dGhpcy5zZWFyY2hOZXdWaWRlby5iaW5kKHRoaXMpfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwidmlkcGxheWVyXCIgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgICAgIHsvKiA8ZGl2PjxoNT48ZW0+dmlkZW9QbGF5ZXI8L2VtPiB2aWV3IGdvZXMgaGVyZTwvaDU+PC9kaXY+ICovfVxuICAgICAgICAgICAgPFZpZGVvUGxheWVyIHN0YXRlPXt0aGlzLnN0YXRlfSB2aWRlbz17dGhpcy5zdGF0ZS5jdXJyZW50VmlkZW99Lz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+XG4gICAgICAgICAgICB7LyogPGRpdj48aDU+PGVtPnZpZGVvTGlzdDwvZW0+IHZpZXcgZ29lcyBoZXJlPC9oNT48L2Rpdj4gKi99XG4gICAgICAgICAgICA8VmlkZW9MaXN0IHN0YXRlPXt0aGlzLnN0YXRlfSB2aWRlb3M9e3RoaXMuc3RhdGUudmlkZW9MaXN0fSBzZXRDdXJyZW50VmlkZW89e3RoaXMuc2V0Q3VycmVudFZpZGVvLmJpbmQodGhpcyl9Lz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IFxufVxuXG4vLyBJbiB0aGUgRVM2IHNwZWMsIGZpbGVzIGFyZSBcIm1vZHVsZXNcIiBhbmQgZG8gbm90IHNoYXJlIGEgdG9wLWxldmVsIHNjb3BlXG4vLyBgdmFyYCBkZWNsYXJhdGlvbnMgd2lsbCBvbmx5IGV4aXN0IGdsb2JhbGx5IHdoZXJlIGV4cGxpY2l0bHkgZGVmaW5lZFxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuXG4iXX0=